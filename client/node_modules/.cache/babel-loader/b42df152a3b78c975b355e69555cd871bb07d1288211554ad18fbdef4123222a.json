{"ast":null,"code":"import _objectSpread from\"C:/Users/Dell/Desktop/mern-course-jobify/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"C:/Users/Dell/Desktop/mern-course-jobify/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Dell/Desktop/mern-course-jobify/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Dell/Desktop/mern-course-jobify/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useReducer,useContext,useEffect}from'react';import reducer from'./reducer';import axios from'axios';import{DISPLAY_ALERT,CLEAR_ALERT,SETUP_USER_BEGIN,SETUP_USER_SUCCESS,SETUP_USER_ERROR,TOGGLE_SIDEBAR,LOGOUT_USER,UPDATE_USER_BEGIN,UPDATE_USER_SUCCESS,UPDATE_USER_ERROR,HANDLE_CHANGE,CLEAR_VALUES,CREATE_JOB_BEGIN,CREATE_JOB_SUCCESS,CREATE_JOB_ERROR,GET_JOBS_BEGIN,GET_JOBS_SUCCESS,SET_EDIT_JOB,DELETE_JOB_BEGIN,DELETE_JOB_ERROR,EDIT_JOB_BEGIN,EDIT_JOB_SUCCESS,EDIT_JOB_ERROR,SHOW_STATS_BEGIN,SHOW_STATS_SUCCESS,CLEAR_FILTERS,CHANGE_PAGE,GET_CURRENT_USER_BEGIN,GET_CURRENT_USER_SUCCESS}from'./actions';import{jsx as _jsx}from\"react/jsx-runtime\";var initialState={userLoading:true,isLoading:false,showAlert:false,alertText:'',alertType:'',user:null,userLocation:'',showSidebar:false,isEditing:false,editJobId:'',position:'',company:'',jobLocation:'',jobTypeOptions:['full-time','part-time','remote','internship'],jobType:'full-time',statusOptions:['interview','declined','pending'],status:'pending',jobs:[],totalJobs:0,numOfPages:1,page:1,stats:{},monthlyApplications:[],search:'',searchStatus:'all',searchType:'all',sort:'latest',sortOptions:['latest','oldest','a-z','z-a']};var AppContext=/*#__PURE__*/React.createContext();var AppProvider=function AppProvider(_ref){var children=_ref.children;var _useReducer=useReducer(reducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];// axios\nvar authFetch=axios.create({baseURL:'/api/v1'});// request\n// response\nauthFetch.interceptors.response.use(function(response){return response;},function(error){// console.log(error.response)\nif(error.response.status===401){logoutUser();}return Promise.reject(error);});var displayAlert=function displayAlert(){dispatch({type:DISPLAY_ALERT});clearAlert();};var clearAlert=function clearAlert(){setTimeout(function(){dispatch({type:CLEAR_ALERT});},3000);};var setupUser=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(_ref2){var currentUser,endPoint,alertText,_yield$axios$post,data,user,location;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:currentUser=_ref2.currentUser,endPoint=_ref2.endPoint,alertText=_ref2.alertText;dispatch({type:SETUP_USER_BEGIN});_context.prev=2;_context.next=5;return axios.post(\"/api/v1/auth/\".concat(endPoint),currentUser);case 5:_yield$axios$post=_context.sent;data=_yield$axios$post.data;user=data.user,location=data.location;dispatch({type:SETUP_USER_SUCCESS,payload:{user:user,location:location,alertText:alertText}});_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](2);dispatch({type:SETUP_USER_ERROR,payload:{msg:_context.t0.response.data.msg}});case 14:clearAlert();case 15:case\"end\":return _context.stop();}}},_callee,null,[[2,11]]);}));return function setupUser(_x){return _ref3.apply(this,arguments);};}();var toggleSidebar=function toggleSidebar(){dispatch({type:TOGGLE_SIDEBAR});};var logoutUser=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return authFetch.get('/auth/logout');case 2:dispatch({type:LOGOUT_USER});case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function logoutUser(){return _ref4.apply(this,arguments);};}();var updateUser=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(currentUser){var _yield$authFetch$patc,data,user,location;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:dispatch({type:UPDATE_USER_BEGIN});_context3.prev=1;_context3.next=4;return authFetch.patch('/auth/updateUser',currentUser);case 4:_yield$authFetch$patc=_context3.sent;data=_yield$authFetch$patc.data;user=data.user,location=data.location;dispatch({type:UPDATE_USER_SUCCESS,payload:{user:user,location:location}});_context3.next=13;break;case 10:_context3.prev=10;_context3.t0=_context3[\"catch\"](1);if(_context3.t0.response.status!==401){dispatch({type:UPDATE_USER_ERROR,payload:{msg:_context3.t0.response.data.msg}});}case 13:clearAlert();case 14:case\"end\":return _context3.stop();}}},_callee3,null,[[1,10]]);}));return function updateUser(_x2){return _ref5.apply(this,arguments);};}();var handleChange=function handleChange(_ref6){var name=_ref6.name,value=_ref6.value;dispatch({type:HANDLE_CHANGE,payload:{name:name,value:value}});};var clearValues=function clearValues(){dispatch({type:CLEAR_VALUES});};var createJob=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(){var position,company,jobLocation,jobType,status;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:dispatch({type:CREATE_JOB_BEGIN});_context4.prev=1;position=state.position,company=state.company,jobLocation=state.jobLocation,jobType=state.jobType,status=state.status;_context4.next=5;return authFetch.post('/jobs',{position:position,company:company,jobLocation:jobLocation,jobType:jobType,status:status});case 5:dispatch({type:CREATE_JOB_SUCCESS});dispatch({type:CLEAR_VALUES});_context4.next=14;break;case 9:_context4.prev=9;_context4.t0=_context4[\"catch\"](1);if(!(_context4.t0.response.status===401)){_context4.next=13;break;}return _context4.abrupt(\"return\");case 13:dispatch({type:CREATE_JOB_ERROR,payload:{msg:_context4.t0.response.data.msg}});case 14:clearAlert();case 15:case\"end\":return _context4.stop();}}},_callee4,null,[[1,9]]);}));return function createJob(){return _ref7.apply(this,arguments);};}();var getJobs=/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(){var page,search,searchStatus,searchType,sort,url,_yield$authFetch,data,jobs,totalJobs,numOfPages;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:page=state.page,search=state.search,searchStatus=state.searchStatus,searchType=state.searchType,sort=state.sort;url=\"/jobs?page=\".concat(page,\"&status=\").concat(searchStatus,\"&jobType=\").concat(searchType,\"&sort=\").concat(sort);if(search){url=url+\"&search=\".concat(search);}dispatch({type:GET_JOBS_BEGIN});_context5.prev=4;_context5.next=7;return authFetch(url);case 7:_yield$authFetch=_context5.sent;data=_yield$authFetch.data;jobs=data.jobs,totalJobs=data.totalJobs,numOfPages=data.numOfPages;dispatch({type:GET_JOBS_SUCCESS,payload:{jobs:jobs,totalJobs:totalJobs,numOfPages:numOfPages}});_context5.next=16;break;case 13:_context5.prev=13;_context5.t0=_context5[\"catch\"](4);logoutUser();case 16:clearAlert();case 17:case\"end\":return _context5.stop();}}},_callee5,null,[[4,13]]);}));return function getJobs(){return _ref8.apply(this,arguments);};}();var setEditJob=function setEditJob(id){dispatch({type:SET_EDIT_JOB,payload:{id:id}});};var editJob=/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee6(){var position,company,jobLocation,jobType,status;return _regeneratorRuntime().wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:dispatch({type:EDIT_JOB_BEGIN});_context6.prev=1;position=state.position,company=state.company,jobLocation=state.jobLocation,jobType=state.jobType,status=state.status;_context6.next=5;return authFetch.patch(\"/jobs/\".concat(state.editJobId),{company:company,position:position,jobLocation:jobLocation,jobType:jobType,status:status});case 5:dispatch({type:EDIT_JOB_SUCCESS});dispatch({type:CLEAR_VALUES});_context6.next=14;break;case 9:_context6.prev=9;_context6.t0=_context6[\"catch\"](1);if(!(_context6.t0.response.status===401)){_context6.next=13;break;}return _context6.abrupt(\"return\");case 13:dispatch({type:EDIT_JOB_ERROR,payload:{msg:_context6.t0.response.data.msg}});case 14:clearAlert();case 15:case\"end\":return _context6.stop();}}},_callee6,null,[[1,9]]);}));return function editJob(){return _ref9.apply(this,arguments);};}();var deleteJob=/*#__PURE__*/function(){var _ref10=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee7(jobId){return _regeneratorRuntime().wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:dispatch({type:DELETE_JOB_BEGIN});_context7.prev=1;_context7.next=4;return authFetch.delete(\"/jobs/\".concat(jobId));case 4:getJobs();_context7.next=12;break;case 7:_context7.prev=7;_context7.t0=_context7[\"catch\"](1);if(!(_context7.t0.response.status===401)){_context7.next=11;break;}return _context7.abrupt(\"return\");case 11:dispatch({type:DELETE_JOB_ERROR,payload:{msg:_context7.t0.response.data.msg}});case 12:clearAlert();case 13:case\"end\":return _context7.stop();}}},_callee7,null,[[1,7]]);}));return function deleteJob(_x3){return _ref10.apply(this,arguments);};}();var showStats=/*#__PURE__*/function(){var _ref11=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee8(){var _yield$authFetch2,data;return _regeneratorRuntime().wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:dispatch({type:SHOW_STATS_BEGIN});_context8.prev=1;_context8.next=4;return authFetch('/jobs/stats');case 4:_yield$authFetch2=_context8.sent;data=_yield$authFetch2.data;dispatch({type:SHOW_STATS_SUCCESS,payload:{stats:data.defaultStats,monthlyApplications:data.monthlyApplications}});_context8.next=12;break;case 9:_context8.prev=9;_context8.t0=_context8[\"catch\"](1);logoutUser();case 12:clearAlert();case 13:case\"end\":return _context8.stop();}}},_callee8,null,[[1,9]]);}));return function showStats(){return _ref11.apply(this,arguments);};}();var clearFilters=function clearFilters(){dispatch({type:CLEAR_FILTERS});};var changePage=function changePage(page){dispatch({type:CHANGE_PAGE,payload:{page:page}});};var getCurrentUser=/*#__PURE__*/function(){var _ref12=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee9(){var _yield$authFetch3,data,user,location;return _regeneratorRuntime().wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:dispatch({type:GET_CURRENT_USER_BEGIN});_context9.prev=1;_context9.next=4;return authFetch('/auth/getCurrentUser');case 4:_yield$authFetch3=_context9.sent;data=_yield$authFetch3.data;user=data.user,location=data.location;dispatch({type:GET_CURRENT_USER_SUCCESS,payload:{user:user,location:location}});_context9.next=15;break;case 10:_context9.prev=10;_context9.t0=_context9[\"catch\"](1);if(!(_context9.t0.response.status===401)){_context9.next=14;break;}return _context9.abrupt(\"return\");case 14:logoutUser();case 15:case\"end\":return _context9.stop();}}},_callee9,null,[[1,10]]);}));return function getCurrentUser(){return _ref12.apply(this,arguments);};}();useEffect(function(){getCurrentUser();},[]);return/*#__PURE__*/_jsx(AppContext.Provider,{value:_objectSpread(_objectSpread({},state),{},{displayAlert:displayAlert,setupUser:setupUser,toggleSidebar:toggleSidebar,logoutUser:logoutUser,updateUser:updateUser,handleChange:handleChange,clearValues:clearValues,createJob:createJob,getJobs:getJobs,setEditJob:setEditJob,deleteJob:deleteJob,editJob:editJob,showStats:showStats,clearFilters:clearFilters,changePage:changePage}),children:children});};var useAppContext=function useAppContext(){return useContext(AppContext);};export{AppProvider,initialState,useAppContext};","map":{"version":3,"names":["React","useReducer","useContext","useEffect","reducer","axios","DISPLAY_ALERT","CLEAR_ALERT","SETUP_USER_BEGIN","SETUP_USER_SUCCESS","SETUP_USER_ERROR","TOGGLE_SIDEBAR","LOGOUT_USER","UPDATE_USER_BEGIN","UPDATE_USER_SUCCESS","UPDATE_USER_ERROR","HANDLE_CHANGE","CLEAR_VALUES","CREATE_JOB_BEGIN","CREATE_JOB_SUCCESS","CREATE_JOB_ERROR","GET_JOBS_BEGIN","GET_JOBS_SUCCESS","SET_EDIT_JOB","DELETE_JOB_BEGIN","DELETE_JOB_ERROR","EDIT_JOB_BEGIN","EDIT_JOB_SUCCESS","EDIT_JOB_ERROR","SHOW_STATS_BEGIN","SHOW_STATS_SUCCESS","CLEAR_FILTERS","CHANGE_PAGE","GET_CURRENT_USER_BEGIN","GET_CURRENT_USER_SUCCESS","initialState","userLoading","isLoading","showAlert","alertText","alertType","user","userLocation","showSidebar","isEditing","editJobId","position","company","jobLocation","jobTypeOptions","jobType","statusOptions","status","jobs","totalJobs","numOfPages","page","stats","monthlyApplications","search","searchStatus","searchType","sort","sortOptions","AppContext","createContext","AppProvider","children","state","dispatch","authFetch","create","baseURL","interceptors","response","use","error","logoutUser","Promise","reject","displayAlert","type","clearAlert","setTimeout","setupUser","currentUser","endPoint","post","data","location","payload","msg","toggleSidebar","get","updateUser","patch","handleChange","name","value","clearValues","createJob","getJobs","url","setEditJob","id","editJob","deleteJob","jobId","delete","showStats","defaultStats","clearFilters","changePage","getCurrentUser","useAppContext"],"sources":["C:/Users/Dell/Desktop/mern-course-jobify/client/src/context/appContext.js"],"sourcesContent":["import React, { useReducer, useContext, useEffect } from 'react';\r\n\r\nimport reducer from './reducer';\r\nimport axios from 'axios';\r\nimport {\r\n  DISPLAY_ALERT,\r\n  CLEAR_ALERT,\r\n  SETUP_USER_BEGIN,\r\n  SETUP_USER_SUCCESS,\r\n  SETUP_USER_ERROR,\r\n  TOGGLE_SIDEBAR,\r\n  LOGOUT_USER,\r\n  UPDATE_USER_BEGIN,\r\n  UPDATE_USER_SUCCESS,\r\n  UPDATE_USER_ERROR,\r\n  HANDLE_CHANGE,\r\n  CLEAR_VALUES,\r\n  CREATE_JOB_BEGIN,\r\n  CREATE_JOB_SUCCESS,\r\n  CREATE_JOB_ERROR,\r\n  GET_JOBS_BEGIN,\r\n  GET_JOBS_SUCCESS,\r\n  SET_EDIT_JOB,\r\n  DELETE_JOB_BEGIN,\r\n  DELETE_JOB_ERROR,\r\n  EDIT_JOB_BEGIN,\r\n  EDIT_JOB_SUCCESS,\r\n  EDIT_JOB_ERROR,\r\n  SHOW_STATS_BEGIN,\r\n  SHOW_STATS_SUCCESS,\r\n  CLEAR_FILTERS,\r\n  CHANGE_PAGE,\r\n  GET_CURRENT_USER_BEGIN,\r\n  GET_CURRENT_USER_SUCCESS,\r\n} from './actions';\r\n\r\nconst initialState = {\r\n  userLoading: true,\r\n  isLoading: false,\r\n  showAlert: false,\r\n  alertText: '',\r\n  alertType: '',\r\n  user: null,\r\n  userLocation: '',\r\n  showSidebar: false,\r\n  isEditing: false,\r\n  editJobId: '',\r\n  position: '',\r\n  company: '',\r\n  jobLocation: '',\r\n  jobTypeOptions: ['full-time', 'part-time', 'remote', 'internship'],\r\n  jobType: 'full-time',\r\n  statusOptions: ['interview', 'declined', 'pending'],\r\n  status: 'pending',\r\n  jobs: [],\r\n  totalJobs: 0,\r\n  numOfPages: 1,\r\n  page: 1,\r\n  stats: {},\r\n  monthlyApplications: [],\r\n  search: '',\r\n  searchStatus: 'all',\r\n  searchType: 'all',\r\n  sort: 'latest',\r\n  sortOptions: ['latest', 'oldest', 'a-z', 'z-a'],\r\n};\r\n\r\nconst AppContext = React.createContext();\r\n\r\nconst AppProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n\r\n  // axios\r\n  const authFetch = axios.create({\r\n    baseURL: '/api/v1',\r\n  });\r\n  // request\r\n\r\n  // response\r\n\r\n  authFetch.interceptors.response.use(\r\n    (response) => {\r\n      return response;\r\n    },\r\n    (error) => {\r\n      // console.log(error.response)\r\n      if (error.response.status === 401) {\r\n        logoutUser();\r\n      }\r\n      return Promise.reject(error);\r\n    }\r\n  );\r\n\r\n  const displayAlert = () => {\r\n    dispatch({ type: DISPLAY_ALERT });\r\n    clearAlert();\r\n  };\r\n\r\n  const clearAlert = () => {\r\n    setTimeout(() => {\r\n      dispatch({ type: CLEAR_ALERT });\r\n    }, 3000);\r\n  };\r\n\r\n  const setupUser = async ({ currentUser, endPoint, alertText }) => {\r\n    dispatch({ type: SETUP_USER_BEGIN });\r\n    try {\r\n      const { data } = await axios.post(\r\n        `/api/v1/auth/${endPoint}`,\r\n        currentUser\r\n      );\r\n\r\n      const { user, location } = data;\r\n      dispatch({\r\n        type: SETUP_USER_SUCCESS,\r\n        payload: { user, location, alertText },\r\n      });\r\n    } catch (error) {\r\n      dispatch({\r\n        type: SETUP_USER_ERROR,\r\n        payload: { msg: error.response.data.msg },\r\n      });\r\n    }\r\n    clearAlert();\r\n  };\r\n  const toggleSidebar = () => {\r\n    dispatch({ type: TOGGLE_SIDEBAR });\r\n  };\r\n\r\n  const logoutUser = async () => {\r\n    await authFetch.get('/auth/logout');\r\n    dispatch({ type: LOGOUT_USER });\r\n  };\r\n  const updateUser = async (currentUser) => {\r\n    dispatch({ type: UPDATE_USER_BEGIN });\r\n    try {\r\n      const { data } = await authFetch.patch('/auth/updateUser', currentUser);\r\n      const { user, location } = data;\r\n\r\n      dispatch({\r\n        type: UPDATE_USER_SUCCESS,\r\n        payload: { user, location },\r\n      });\r\n    } catch (error) {\r\n      if (error.response.status !== 401) {\r\n        dispatch({\r\n          type: UPDATE_USER_ERROR,\r\n          payload: { msg: error.response.data.msg },\r\n        });\r\n      }\r\n    }\r\n    clearAlert();\r\n  };\r\n\r\n  const handleChange = ({ name, value }) => {\r\n    dispatch({ type: HANDLE_CHANGE, payload: { name, value } });\r\n  };\r\n  const clearValues = () => {\r\n    dispatch({ type: CLEAR_VALUES });\r\n  };\r\n  const createJob = async () => {\r\n    dispatch({ type: CREATE_JOB_BEGIN });\r\n    try {\r\n      const { position, company, jobLocation, jobType, status } = state;\r\n      await authFetch.post('/jobs', {\r\n        position,\r\n        company,\r\n        jobLocation,\r\n        jobType,\r\n        status,\r\n      });\r\n      dispatch({ type: CREATE_JOB_SUCCESS });\r\n      dispatch({ type: CLEAR_VALUES });\r\n    } catch (error) {\r\n      if (error.response.status === 401) return;\r\n      dispatch({\r\n        type: CREATE_JOB_ERROR,\r\n        payload: { msg: error.response.data.msg },\r\n      });\r\n    }\r\n    clearAlert();\r\n  };\r\n\r\n  const getJobs = async () => {\r\n    const { page, search, searchStatus, searchType, sort } = state;\r\n\r\n    let url = `/jobs?page=${page}&status=${searchStatus}&jobType=${searchType}&sort=${sort}`;\r\n    if (search) {\r\n      url = url + `&search=${search}`;\r\n    }\r\n    dispatch({ type: GET_JOBS_BEGIN });\r\n    try {\r\n      const { data } = await authFetch(url);\r\n      const { jobs, totalJobs, numOfPages } = data;\r\n      dispatch({\r\n        type: GET_JOBS_SUCCESS,\r\n        payload: {\r\n          jobs,\r\n          totalJobs,\r\n          numOfPages,\r\n        },\r\n      });\r\n    } catch (error) {\r\n      logoutUser();\r\n    }\r\n    clearAlert();\r\n  };\r\n\r\n  const setEditJob = (id) => {\r\n    dispatch({ type: SET_EDIT_JOB, payload: { id } });\r\n  };\r\n  const editJob = async () => {\r\n    dispatch({ type: EDIT_JOB_BEGIN });\r\n\r\n    try {\r\n      const { position, company, jobLocation, jobType, status } = state;\r\n      await authFetch.patch(`/jobs/${state.editJobId}`, {\r\n        company,\r\n        position,\r\n        jobLocation,\r\n        jobType,\r\n        status,\r\n      });\r\n      dispatch({ type: EDIT_JOB_SUCCESS });\r\n      dispatch({ type: CLEAR_VALUES });\r\n    } catch (error) {\r\n      if (error.response.status === 401) return;\r\n      dispatch({\r\n        type: EDIT_JOB_ERROR,\r\n        payload: { msg: error.response.data.msg },\r\n      });\r\n    }\r\n    clearAlert();\r\n  };\r\n  const deleteJob = async (jobId) => {\r\n    dispatch({ type: DELETE_JOB_BEGIN });\r\n    try {\r\n      await authFetch.delete(`/jobs/${jobId}`);\r\n      getJobs();\r\n    } catch (error) {\r\n      if (error.response.status === 401) return;\r\n      dispatch({\r\n        type: DELETE_JOB_ERROR,\r\n        payload: { msg: error.response.data.msg },\r\n      });\r\n    }\r\n    clearAlert();\r\n  };\r\n  const showStats = async () => {\r\n    dispatch({ type: SHOW_STATS_BEGIN });\r\n    try {\r\n      const { data } = await authFetch('/jobs/stats');\r\n      dispatch({\r\n        type: SHOW_STATS_SUCCESS,\r\n        payload: {\r\n          stats: data.defaultStats,\r\n          monthlyApplications: data.monthlyApplications,\r\n        },\r\n      });\r\n    } catch (error) {\r\n      logoutUser();\r\n    }\r\n    clearAlert();\r\n  };\r\n  const clearFilters = () => {\r\n    dispatch({ type: CLEAR_FILTERS });\r\n  };\r\n  const changePage = (page) => {\r\n    dispatch({ type: CHANGE_PAGE, payload: { page } });\r\n  };\r\n\r\n  const getCurrentUser = async () => {\r\n    dispatch({ type: GET_CURRENT_USER_BEGIN });\r\n    try {\r\n      const { data } = await authFetch('/auth/getCurrentUser');\r\n      const { user, location } = data;\r\n\r\n      dispatch({\r\n        type: GET_CURRENT_USER_SUCCESS,\r\n        payload: { user, location },\r\n      });\r\n    } catch (error) {\r\n      if (error.response.status === 401) return;\r\n      logoutUser();\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    getCurrentUser();\r\n  }, []);\r\n\r\n  return (\r\n    <AppContext.Provider\r\n      value={{\r\n        ...state,\r\n        displayAlert,\r\n        setupUser,\r\n        toggleSidebar,\r\n        logoutUser,\r\n        updateUser,\r\n        handleChange,\r\n        clearValues,\r\n        createJob,\r\n        getJobs,\r\n        setEditJob,\r\n        deleteJob,\r\n        editJob,\r\n        showStats,\r\n        clearFilters,\r\n        changePage,\r\n      }}\r\n    >\r\n      {children}\r\n    </AppContext.Provider>\r\n  );\r\n};\r\n\r\nconst useAppContext = () => {\r\n  return useContext(AppContext);\r\n};\r\n\r\nexport { AppProvider, initialState, useAppContext };\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}