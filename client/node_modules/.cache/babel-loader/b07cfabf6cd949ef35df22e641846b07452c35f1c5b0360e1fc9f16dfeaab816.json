{"ast":null,"code":"import _defineProperty from\"C:/Users/Dell/Desktop/mern-course-jobify/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/Dell/Desktop/mern-course-jobify/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/Dell/Desktop/mern-course-jobify/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import{Logo,FormRow,Alert}from'../components';import Wrapper from'../assets/wrappers/RegisterPage';import{useAppContext}from'../context/appContext';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var initialState={name:'',email:'',password:'',isMember:true};var Register=function Register(){var navigate=useNavigate();var _useState=useState(initialState),_useState2=_slicedToArray(_useState,2),values=_useState2[0],setValues=_useState2[1];var _useAppContext=useAppContext(),user=_useAppContext.user,isLoading=_useAppContext.isLoading,showAlert=_useAppContext.showAlert,displayAlert=_useAppContext.displayAlert,setupUser=_useAppContext.setupUser;var toggleMember=function toggleMember(){setValues(_objectSpread(_objectSpread({},values),{},{isMember:!values.isMember}));};var handleChange=function handleChange(e){setValues(_objectSpread(_objectSpread({},values),{},_defineProperty({},e.target.name,e.target.value)));};var onSubmit=function onSubmit(e){e.preventDefault();var name=values.name,email=values.email,password=values.password,isMember=values.isMember;if(!email||!password||!isMember&&!name){displayAlert();return;}var currentUser={name:name,email:email,password:password};if(isMember){setupUser({currentUser:currentUser,endPoint:'login',alertText:'Login Successful! Redirecting...'});}else{setupUser({currentUser:currentUser,endPoint:'register',alertText:'User Created! Redirecting...'});}};useEffect(function(){if(user){setTimeout(function(){navigate('/');},3000);}},[user,navigate]);return/*#__PURE__*/_jsx(Wrapper,{className:\"full-page\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"form\",onSubmit:onSubmit,children:[/*#__PURE__*/_jsx(Logo,{}),/*#__PURE__*/_jsx(\"h3\",{children:values.isMember?'Login':'Register'}),showAlert&&/*#__PURE__*/_jsx(Alert,{}),!values.isMember&&/*#__PURE__*/_jsx(FormRow,{type:\"text\",name:\"name\",value:values.name,handleChange:handleChange}),/*#__PURE__*/_jsx(FormRow,{type:\"email\",name:\"email\",value:values.email,handleChange:handleChange}),/*#__PURE__*/_jsx(FormRow,{type:\"password\",name:\"password\",value:values.password,handleChange:handleChange}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-block\",disabled:isLoading,children:\"submit\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-block btn-hipster\",disabled:isLoading,onClick:function onClick(){setupUser({currentUser:{email:'testUser@test.com',password:'secret'},endPoint:'login',alertText:'Login Successful! Redirecting...'});},children:isLoading?'loading...':'demo app'}),/*#__PURE__*/_jsxs(\"p\",{children:[values.isMember?'Not a member yet?':'Already a member?',/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:toggleMember,className:\"member-btn\",children:values.isMember?'Register':'Login'})]})]})});};export default Register;","map":{"version":3,"names":["useState","useEffect","Logo","FormRow","Alert","Wrapper","useAppContext","useNavigate","initialState","name","email","password","isMember","Register","navigate","values","setValues","user","isLoading","showAlert","displayAlert","setupUser","toggleMember","handleChange","e","target","value","onSubmit","preventDefault","currentUser","endPoint","alertText","setTimeout"],"sources":["C:/Users/Dell/Desktop/mern-course-jobify/client/src/pages/Register.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { Logo, FormRow, Alert } from '../components';\r\nimport Wrapper from '../assets/wrappers/RegisterPage';\r\nimport { useAppContext } from '../context/appContext';\r\nimport { useNavigate } from 'react-router-dom';\r\nconst initialState = {\r\n  name: '',\r\n  email: '',\r\n  password: '',\r\n  isMember: true,\r\n};\r\n\r\nconst Register = () => {\r\n  const navigate = useNavigate();\r\n  const [values, setValues] = useState(initialState);\r\n  const { user, isLoading, showAlert, displayAlert, setupUser } =\r\n    useAppContext();\r\n\r\n  const toggleMember = () => {\r\n    setValues({ ...values, isMember: !values.isMember });\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    setValues({ ...values, [e.target.name]: e.target.value });\r\n  };\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    const { name, email, password, isMember } = values;\r\n    if (!email || !password || (!isMember && !name)) {\r\n      displayAlert();\r\n      return;\r\n    }\r\n    const currentUser = { name, email, password };\r\n    if (isMember) {\r\n      setupUser({\r\n        currentUser,\r\n        endPoint: 'login',\r\n        alertText: 'Login Successful! Redirecting...',\r\n      });\r\n    } else {\r\n      setupUser({\r\n        currentUser,\r\n        endPoint: 'register',\r\n        alertText: 'User Created! Redirecting...',\r\n      });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      setTimeout(() => {\r\n        navigate('/');\r\n      }, 3000);\r\n    }\r\n  }, [user, navigate]);\r\n\r\n  return (\r\n    <Wrapper className='full-page'>\r\n      <form className='form' onSubmit={onSubmit}>\r\n        <Logo />\r\n        <h3>{values.isMember ? 'Login' : 'Register'}</h3>\r\n        {showAlert && <Alert />}\r\n        {/* name input */}\r\n        {!values.isMember && (\r\n          <FormRow\r\n            type='text'\r\n            name='name'\r\n            value={values.name}\r\n            handleChange={handleChange}\r\n          />\r\n        )}\r\n\r\n        {/* email input */}\r\n        <FormRow\r\n          type='email'\r\n          name='email'\r\n          value={values.email}\r\n          handleChange={handleChange}\r\n        />\r\n        {/* password input */}\r\n        <FormRow\r\n          type='password'\r\n          name='password'\r\n          value={values.password}\r\n          handleChange={handleChange}\r\n        />\r\n        <button type='submit' className='btn btn-block' disabled={isLoading}>\r\n          submit\r\n        </button>\r\n        <button\r\n          type='button'\r\n          className='btn btn-block btn-hipster'\r\n          disabled={isLoading}\r\n          onClick={() => {\r\n            setupUser({\r\n              currentUser: { email: 'testUser@test.com', password: 'secret' },\r\n              endPoint: 'login',\r\n              alertText: 'Login Successful! Redirecting...',\r\n            });\r\n          }}\r\n        >\r\n          {isLoading ? 'loading...' : 'demo app'}\r\n        </button>\r\n        <p>\r\n          {values.isMember ? 'Not a member yet?' : 'Already a member?'}\r\n          <button type='button' onClick={toggleMember} className='member-btn'>\r\n            {values.isMember ? 'Register' : 'Login'}\r\n          </button>\r\n        </p>\r\n      </form>\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default Register;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}