{"ast":null,"code":"import _toConsumableArray from\"C:/Users/Dell/Desktop/mern-course-jobify/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/Dell/Desktop/mern-course-jobify/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{FormRow,FormRowSelect}from'.';import{useAppContext}from'../context/appContext';import Wrapper from'../assets/wrappers/SearchContainer';import{useState,useMemo}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SearchContainer=function SearchContainer(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),localSearch=_useState2[0],setLocalSearch=_useState2[1];var _useAppContext=useAppContext(),isLoading=_useAppContext.isLoading,search=_useAppContext.search,searchStatus=_useAppContext.searchStatus,searchType=_useAppContext.searchType,sort=_useAppContext.sort,sortOptions=_useAppContext.sortOptions,handleChange=_useAppContext.handleChange,clearFilters=_useAppContext.clearFilters,jobTypeOptions=_useAppContext.jobTypeOptions,statusOptions=_useAppContext.statusOptions;var handleSearch=function handleSearch(e){handleChange({name:e.target.name,value:e.target.value});};var handleSubmit=function handleSubmit(e){e.preventDefault();setLocalSearch('');clearFilters();};var debounce=function debounce(){var timeoutID;return function(e){setLocalSearch(e.target.value);clearTimeout(timeoutID);timeoutID=setTimeout(function(){handleChange({name:e.target.name,value:e.target.value});},1000);};};var optimizedDebounce=useMemo(function(){return debounce();},[]);return/*#__PURE__*/_jsx(Wrapper,{children:/*#__PURE__*/_jsxs(\"form\",{className:\"form\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"search form\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-center\",children:[/*#__PURE__*/_jsx(FormRow,{type:\"text\",name:\"search\",value:localSearch,handleChange:optimizedDebounce}),/*#__PURE__*/_jsx(FormRowSelect,{labelText:\"status\",name:\"searchStatus\",value:searchStatus,handleChange:handleSearch,list:['all'].concat(_toConsumableArray(statusOptions))}),/*#__PURE__*/_jsx(FormRowSelect,{labelText:\"type\",name:\"searchType\",value:searchType,handleChange:handleSearch,list:['all'].concat(_toConsumableArray(jobTypeOptions))}),/*#__PURE__*/_jsx(FormRowSelect,{name:\"sort\",value:sort,handleChange:handleSearch,list:sortOptions}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-block btn-danger\",disabled:isLoading,onClick:handleSubmit,children:\"clear filters\"})]})]})});};export default SearchContainer;","map":{"version":3,"names":["FormRow","FormRowSelect","useAppContext","Wrapper","useState","useMemo","SearchContainer","localSearch","setLocalSearch","isLoading","search","searchStatus","searchType","sort","sortOptions","handleChange","clearFilters","jobTypeOptions","statusOptions","handleSearch","e","name","target","value","handleSubmit","preventDefault","debounce","timeoutID","clearTimeout","setTimeout","optimizedDebounce"],"sources":["C:/Users/Dell/Desktop/mern-course-jobify/client/src/components/SearchContainer.js"],"sourcesContent":["import { FormRow, FormRowSelect } from '.';\r\nimport { useAppContext } from '../context/appContext';\r\nimport Wrapper from '../assets/wrappers/SearchContainer';\r\nimport { useState, useMemo } from 'react';\r\nconst SearchContainer = () => {\r\n  const [localSearch, setLocalSearch] = useState('');\r\n  const {\r\n    isLoading,\r\n    search,\r\n    searchStatus,\r\n    searchType,\r\n    sort,\r\n    sortOptions,\r\n    handleChange,\r\n    clearFilters,\r\n    jobTypeOptions,\r\n    statusOptions,\r\n  } = useAppContext();\r\n  const handleSearch = (e) => {\r\n    handleChange({ name: e.target.name, value: e.target.value });\r\n  };\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    setLocalSearch('');\r\n    clearFilters();\r\n  };\r\n  const debounce = () => {\r\n    let timeoutID;\r\n    return (e) => {\r\n      setLocalSearch(e.target.value);\r\n      clearTimeout(timeoutID);\r\n      timeoutID = setTimeout(() => {\r\n        handleChange({ name: e.target.name, value: e.target.value });\r\n      }, 1000);\r\n    };\r\n  };\r\n  const optimizedDebounce = useMemo(() => debounce(), []);\r\n  return (\r\n    <Wrapper>\r\n      <form className='form'>\r\n        <h4>search form</h4>\r\n        <div className='form-center'>\r\n          {/* search position */}\r\n\r\n          <FormRow\r\n            type='text'\r\n            name='search'\r\n            value={localSearch}\r\n            handleChange={optimizedDebounce}\r\n          />\r\n          {/* search by status */}\r\n          <FormRowSelect\r\n            labelText='status'\r\n            name='searchStatus'\r\n            value={searchStatus}\r\n            handleChange={handleSearch}\r\n            list={['all', ...statusOptions]}\r\n          />\r\n          {/* search by type */}\r\n          <FormRowSelect\r\n            labelText='type'\r\n            name='searchType'\r\n            value={searchType}\r\n            handleChange={handleSearch}\r\n            list={['all', ...jobTypeOptions]}\r\n          />\r\n          {/* sort */}\r\n          <FormRowSelect\r\n            name='sort'\r\n            value={sort}\r\n            handleChange={handleSearch}\r\n            list={sortOptions}\r\n          />\r\n          <button\r\n            className='btn btn-block btn-danger'\r\n            disabled={isLoading}\r\n            onClick={handleSubmit}\r\n          >\r\n            clear filters\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default SearchContainer;\r\n"],"mappings":"kRAAA,OAASA,OAAO,CAAEC,aAAa,KAAQ,GAAG,CAC1C,OAASC,aAAa,KAAQ,uBAAuB,CACrD,MAAOC,QAAO,KAAM,oCAAoC,CACxD,OAASC,QAAQ,CAAEC,OAAO,KAAQ,OAAO,CAAC,wFAC1C,GAAMC,gBAAe,CAAG,QAAlBA,gBAAe,EAAS,CAC5B,cAAsCF,QAAQ,CAAC,EAAE,CAAC,wCAA3CG,WAAW,eAAEC,cAAc,eAClC,mBAWIN,aAAa,EAAE,CAVjBO,SAAS,gBAATA,SAAS,CACTC,MAAM,gBAANA,MAAM,CACNC,YAAY,gBAAZA,YAAY,CACZC,UAAU,gBAAVA,UAAU,CACVC,IAAI,gBAAJA,IAAI,CACJC,WAAW,gBAAXA,WAAW,CACXC,YAAY,gBAAZA,YAAY,CACZC,YAAY,gBAAZA,YAAY,CACZC,cAAc,gBAAdA,cAAc,CACdC,aAAa,gBAAbA,aAAa,CAEf,GAAMC,aAAY,CAAG,QAAfA,aAAY,CAAIC,CAAC,CAAK,CAC1BL,YAAY,CAAC,CAAEM,IAAI,CAAED,CAAC,CAACE,MAAM,CAACD,IAAI,CAAEE,KAAK,CAAEH,CAAC,CAACE,MAAM,CAACC,KAAM,CAAC,CAAC,CAC9D,CAAC,CACD,GAAMC,aAAY,CAAG,QAAfA,aAAY,CAAIJ,CAAC,CAAK,CAC1BA,CAAC,CAACK,cAAc,EAAE,CAClBjB,cAAc,CAAC,EAAE,CAAC,CAClBQ,YAAY,EAAE,CAChB,CAAC,CACD,GAAMU,SAAQ,CAAG,QAAXA,SAAQ,EAAS,CACrB,GAAIC,UAAS,CACb,MAAO,UAACP,CAAC,CAAK,CACZZ,cAAc,CAACY,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC,CAC9BK,YAAY,CAACD,SAAS,CAAC,CACvBA,SAAS,CAAGE,UAAU,CAAC,UAAM,CAC3Bd,YAAY,CAAC,CAAEM,IAAI,CAAED,CAAC,CAACE,MAAM,CAACD,IAAI,CAAEE,KAAK,CAAEH,CAAC,CAACE,MAAM,CAACC,KAAM,CAAC,CAAC,CAC9D,CAAC,CAAE,IAAI,CAAC,CACV,CAAC,CACH,CAAC,CACD,GAAMO,kBAAiB,CAAGzB,OAAO,CAAC,iBAAMqB,SAAQ,EAAE,GAAE,EAAE,CAAC,CACvD,mBACE,KAAC,OAAO,wBACN,cAAM,SAAS,CAAC,MAAM,wBACpB,mCAAoB,cACpB,aAAK,SAAS,CAAC,aAAa,wBAG1B,KAAC,OAAO,EACN,IAAI,CAAC,MAAM,CACX,IAAI,CAAC,QAAQ,CACb,KAAK,CAAEnB,WAAY,CACnB,YAAY,CAAEuB,iBAAkB,EAChC,cAEF,KAAC,aAAa,EACZ,SAAS,CAAC,QAAQ,CAClB,IAAI,CAAC,cAAc,CACnB,KAAK,CAAEnB,YAAa,CACpB,YAAY,CAAEQ,YAAa,CAC3B,IAAI,EAAG,KAAK,4BAAKD,aAAa,EAAE,EAChC,cAEF,KAAC,aAAa,EACZ,SAAS,CAAC,MAAM,CAChB,IAAI,CAAC,YAAY,CACjB,KAAK,CAAEN,UAAW,CAClB,YAAY,CAAEO,YAAa,CAC3B,IAAI,EAAG,KAAK,4BAAKF,cAAc,EAAE,EACjC,cAEF,KAAC,aAAa,EACZ,IAAI,CAAC,MAAM,CACX,KAAK,CAAEJ,IAAK,CACZ,YAAY,CAAEM,YAAa,CAC3B,IAAI,CAAEL,WAAY,EAClB,cACF,eACE,SAAS,CAAC,0BAA0B,CACpC,QAAQ,CAAEL,SAAU,CACpB,OAAO,CAAEe,YAAa,2BAGf,GACL,GACD,EACC,CAEd,CAAC,CAED,cAAelB,gBAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}